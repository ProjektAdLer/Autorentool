@using Presentation.View.Layout
@using Presentation.View.LearningWorld
@using Presentation.Components.Forms.World
@using Presentation.Components.Forms.Space
@using Presentation.Components.ContentFiles
@using Presentation.PresentationLogic.DropZone
@using Presentation.PresentationLogic.LearningElement
@using Presentation.View.LearningSpace
@page "/app"
<div class="flex flex-col h-screen w-screen bg-adlerblue-100 font-sans">
    <HeaderBar/>
    <MudDropContainer T="ILearningElementViewModel"
                      Items="ElementDropZoneHelper.GetWorldAndSpaceElements()"
                      ItemsSelector="ElementDropZoneHelper.IsItemInDropZone"
                      ItemDropped="ElementDropZoneHelper.ItemUpdated"
                      class="columns-3 flex-1 flex flex-row justify-between items-center">
        <ChildContent>
            <SideContainer Side="Side.Left">
                <Sidebar SidebarSide="Side.Left">
                    <SidebarItem>
                        <SidebarContent>
                            <MudIcon Icon="@Icons.Material.Filled.PlusOne"/>
                        </SidebarContent>
                        <MainContent>
                            <WorldFormContainer/>
                        </MainContent>
                    </SidebarItem>
                    <SidebarItem>
                        <SidebarContent>
                            <MudIcon Icon="@Icons.Material.Filled.PlusOne"/>
                        </SidebarContent>
                        <MainContent>
                            <SpaceFormContainer/>
                        </MainContent>
                    </SidebarItem>
                    <SidebarItem>
                        <SidebarContent>
                            <MudIcon Icon="@Icons.Material.Filled.FilePresent"/>
                        </SidebarContent>
                        <MainContent>
                            <ContentFilesContainer/>
                        </MainContent>
                    </SidebarItem>
                </Sidebar>
            </SideContainer>
            <CenterContainer>
                <div class="bg-blue-400">
                    Center
                    <LearningSpaceView/>
                </div>
            </CenterContainer>
            <SideContainer Side="Side.Right">
                <Sidebar SidebarSide="Side.Right">
                    <SidebarItem>
                        <SidebarContent>
                            <div title="LearningPathWays">
                                <img class="w-8" src="CustomIcons/world-icon-nobg.png" alt="blabla">
                            </div>
                        </SidebarContent>
                        <MainContent>
                            <LearningWorldView/>
                        </MainContent>
                    </SidebarItem>
                    <SidebarItem>
                        <SidebarContent>
                            <div title="LearningWorldOverView">
                                <img class="w-8" src="CustomIcons/hierarchy-nobg.png" alt="blabla">
                            </div>
                        </SidebarContent>
                        <MainContent>
                            <LearningWorldOverView/>
                        </MainContent>
                    </SidebarItem>
            </Sidebar>
            </SideContainer>
        </ChildContent>
        <ItemRenderer>
            <MudListItem Text="@context.Name"/>
        </ItemRenderer>
    </MudDropContainer>
</div>

@code {

    [Inject]
    public ILearningElementDropZoneHelper ElementDropZoneHelper { get; set; }

}