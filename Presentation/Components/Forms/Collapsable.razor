<div class="gap-2 px-0.5 my-4 @Style">
    <div class="flex flex-row toggler" @onclick="@Toggle">
        @if (Collapsed)
        {
            <MudIcon Icon="@Icons.Material.Filled.ArrowRight"/>
        }
        else
        {
            <MudIcon Icon="@Icons.Material.Filled.ArrowDropDown"/>
        }
        <h3 class="text-adlergrey-800 font-bold text-lg"> @Title </h3>
    </div>

    @if (!Collapsed)
    {
        <div class="mt-0 pb-1 inner">
            @ChildContent
        </div>
    }
</div>

@code {

    [Parameter]
    public string? Style { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public bool Collapsed { get; set; }

    [Parameter]
    public EventCallback<bool> CollapsedChanged { get; set; }

    [Parameter]
    public string? Title { get; set; }

    void Toggle()
    {
        Collapsed = !Collapsed;
        CollapsedChanged.InvokeAsync(Collapsed);
    }

}